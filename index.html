<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Who's That Pokémon?</title>

  <!-- Styles -->
  <script>
    const basePath = location.pathname.replace(/[^/]+$/, '');
    const cssLink = document.createElement('link');
    cssLink.rel = 'stylesheet';
    cssLink.href = basePath + 'styles.css?ts=' + Date.now();
    document.head.appendChild(cssLink);
  </script>

  <!-- Awesomplete CDN -->
  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/awesomplete/1.1.7/awesomplete.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/awesomplete/1.1.7/awesomplete.min.js"></script>

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
</head>
<body>
  <h1>Who's That Pokémon?</h1>

  <div class="streaks">
    <div>Streak: <span id="streak">0</span></div>
    <div>Best: <span id="bestStreak">0</span></div>
  </div>

  <button id="settingsBtn" class="corner-info">Settings</button>

  <div id="settingsPanel" class="corner-panel">
    <h3>Settings</h3>

    <div class="checklist">
      <label>
        <input type="checkbox" id="includeForms" />
        Include Forms
      </label>

      <label>
        <input type="checkbox" id="enableAutocomplete" checked />
        Enable Autocomplete
      </label>

      <hr />
      <div id="genChecklist"></div>
    </div>

    <details>
      <summary>Excluded forms</summary>
      <ul>
        <li>Nidoran genders (only male, just write nidoran)</li>
        <li>Unown (only A, just write unown, could add)</li>
        <li>Alolan Grimer (too similar)</li>
        <li>Hisuian Sneasel (too similar)</li>
        <li>Alolan Muk (too similar)</li>
        <li>Alolan Vulpix (too similar)</li>
        <li>Paldean Tauros (could add some forms)</li>
        <li>Anything added in Legends ZA (models not uploaded)</li>
        <li>Galarian Corsola (no model uploaded)</li>
        <li>Spiky-eared Pikachu</li>
        <li>Hats or outfits</li>
        <li>Mega Rayquaza (can't find posed model)</li>
        <li>Mega Medicham (can't find posed model)</li>
        <li>Mega Latios (same model as mega latias)</li>
        <li>Mega Sableye (can't find posed model)</li>
        <li>East Sea Gastrodon (too similar)</li>
        <li>Arceus Forms (just changes colour)</li>
        <li>Shadow Pokemon</li>
        <li>Gender differences</li>
        <li>Mega Gallade (can't find posed model)</li>
      </ul>
    </details>
  </div>

  <div class="pokemon-container">
    <img id="pokemonImg" alt="Pokémon silhouette" />
    <div id="badge" class="badge">Correct!</div>
    <div id="pokemonName"></div>

    <!-- Overlay icon buttons -->
    <div class="image-buttons">
      <!-- Toggle silhouette -->
      <button id="toggleSilhouetteBtn" class="icon-btn" title="Toggle silhouette">

        <!-- Eye open -->
        <svg id="eyeOpen"
             xmlns="http://www.w3.org/2000/svg"
             viewBox="0 0 24 24"
             width="20" height="20"
             fill="none"
             stroke="currentColor"
             stroke-width="1.5"
             stroke-linecap="round"
             stroke-linejoin="round">
          <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
          <circle cx="12" cy="12" r="3"/>
        </svg>

        <!-- Eye slash -->
        <svg id="eyeClosed"
             xmlns="http://www.w3.org/2000/svg"
             viewBox="0 0 24 24"
             width="20" height="20"
             fill="none"
             stroke="currentColor"
             stroke-width="1.5"
             stroke-linecap="round"
             stroke-linejoin="round"
             style="display:none;">
          <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
          <circle cx="12" cy="12" r="3"/>
          <line x1="2" y1="2" x2="22" y2="22"/>
        </svg>

      </button>

      <!-- Copy -->
      <button id="copyBtn" class="icon-btn" title="Copy Image">
        <i class="bi bi-files"></i>
      </button>
    </div>
  </div>

  <div class="input-container" style="position: relative; display: flex; gap: 0.5em; align-items: center; margin-bottom: 1em;">
    <input id="guess" placeholder="Enter Pokémon name" />
    <button id="guessButton">Guess</button>
    <button id="nextButton">Skip</button>
  </div>

  <script type="module" src="./game.js?v=7"></script>
</body>
</html>
